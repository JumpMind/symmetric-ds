<?xml version="1.0" encoding="UTF-8"?>
<appendix version="5.0" xml:id="xx-01-startup-properties" xmlns="http://docbook.org/ns/docbook"
    xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:svg="http://www.w3.org/2000/svg" xmlns:ns="http://docbook.org/ns/docbook"
    xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:html="http://www.w3.org/1999/xhtml">
    <title>Startup Properties</title>
    <para>
        Startup properties are read once from properties files during initialization and change the behavior
        of SymmetricDS at runtime. The following properties are used:

        <variablelist>
            <varlistentry>
                <term>
                    <command>db.jndi.name</command>
                </term>
                <listitem>
                    <para>
                        The name of the database connection pool to use, which is registered in the JNDI
                        directory tree of the application server. It is recommended that this DataSource is
                        NOT transactional, because SymmetricDS will handle its own transactions. If NOT using
                        a JNDI connection pool, you must provide information about the database connection
                        using the
                        <literal>db.driver</literal>
                        ,
                        <literal>db.url</literal>
                        ,
                        <literal>db.user</literal>
                        , and
                        <literal>db.password</literal>
                        properties instead, which will create a pool of connections using the
                        <literal>db.pool</literal>
                        properties. [&#xA0;Default:&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>db.driver</command>
                </term>
                <listitem>
                    <para>
                        The class name of the JDBC driver. If
                        <literal>db.jndi.name</literal>
                        is set, this property is ignored. [&#xA0;Default:&#xA0;com.mysql.jdbc.Driver&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>db.url</command>
                </term>
                <listitem>
                    <para>
                        The JDBC URL used to connect to the database. If
                        <literal>db.jndi.name</literal>
                        is set, this property is ignored.
                        [&#xA0;Default:&#xA0;jdbc:mysql://localhost/symmetric&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>db.user</command>
                </term>
                <listitem>
                    <para>
                        The database username, which is used to login, create, and update SymmetricDS tables.
                        If
                        <literal>db.jndi.name</literal>
                        is set, this property is ignored. [&#xA0;Default:&#xA0;symmetric&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>db.password</command>
                </term>
                <listitem>
                    <para>
                        The password for the database user. If
                        <literal>db.jndi.name</literal>
                        is set, this property is ignored. [&#xA0;Default:&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>db.pool.initial.size</command>
                </term>
                <listitem>
                    <para>
                        The initial size of the connection pool. If
                        <literal>db.jndi.name</literal>
                        is set, this property is ignored. [&#xA0;Default:&#xA0;5&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>db.pool.max.active</command>
                </term>
                <listitem>
                    <para>
                        The maximum number of connections that will be allocated in the pool. If
                        <literal>db.jndi.name</literal>
                        is set, this property is ignored. [&#xA0;Default:&#xA0;10&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>db.pool.max.wait.millis</command>
                </term>
                <listitem>
                    <para>
                        This is how long a request for a connection from the datasource will wait before
                        giving up. If
                        <literal>db.jndi.name</literal>
                        is set, this property is ignored. [&#xA0;Default:&#xA0;30000&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>db.pool.min.evictable.idle.millis</command>
                </term>
                <listitem>
                    <para>
                        This is how long a connection can be idle before it will be evicted. If
                        <literal>db.jndi.name</literal>
                        is set, this property is ignored. [&#xA0;Default:&#xA0;120000&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>db.tx.timeout.seconds</command>
                </term>
                <listitem>
                    <para>
                        This is how long the default transaction time is. This needs to be fairly big to
                        account for large data loads. [&#xA0;Default:&#xA0;7200&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>db.sql.query.timeout.seconds</command>
                </term>
                <listitem>
                    <para>
                        The timeout in seconds for queries running on the database.
                        [&#xA0;Default:&#xA0;60&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>db.jdbc.streaming.results.fetch.size</command>
                </term>
                <listitem>
                    <para>
                        This is the default fetch size for streaming result sets into memory from the
                        database. [&#xA0;Default:&#xA0;1000&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>sync.table.prefix</command>
                </term>
                <listitem>
                    <para>
                        When symmetric tables are created and accessed, this is the prefix to use for the
                        table name. [&#xA0;Default:&#xA0;sym&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.auto.config.database</command>
                </term>
                <listitem>
                    <para>
                        If this is true, the configuration and runtime tables used by SymmetricDS are
                        automatically created during startup. [&#xA0;Default:&#xA0;true&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.http.download.rate.kb</command>
                </term>
                <listitem>
                    <para>
                        This is the download rate for the HTTP symmetric transport. A value of -1 means full
                        throttle. [&#xA0;Default:&#xA0;-1&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.http.concurrent.workers.max</command>
                </term>
                <listitem>
                    <para>
                        This is the number of HTTP concurrent push/pull requests symmetric will accept. This
                        is controlled by the NodeConcurrencyFilter. [&#xA0;Default:&#xA0;20&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.outgoing.batches.max.to.process</command>
                </term>
                <listitem>
                    <para>
                        This is the maximum number of outgoing batches that will processed in one pull or push
                        request. [&#xA0;Default:&#xA0;60&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.incoming.batches.skip.duplicates</command>
                </term>
                <listitem>
                    <para>
                        Whether or not to skip duplicate batches that are received. A duplicate batch is
                        identified by the batch ID already existing in the incoming batch table. If this
                        happens, it means an acknowledgement was lost due to failure or there is a bug.
                        Accepting a duplicate batch in this case can mean overwriting data with old data.
                        Another cause of duplicates is when the batch sequence number is reset, which might
                        happen in a lab environement. Skipping a duplicate batch in this case would prevent
                        data changes from loading. Generally, in a production envionment, this setting should
                        be true. [&#xA0;Default:&#xA0;true&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.engine.name</command>
                </term>
                <listitem>
                    <para>
                        This is the engine name. This should be set if you have more than one engine running
                        in the same JVM. It is used to name the JMX management bean.
                        [&#xA0;Default:&#xA0;Default&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.trigger.prefix</command>
                </term>
                <listitem>
                    <para>
                        Set this if the trigger names need to be prefixed. This is useful when running two
                        symmetric instances against the same database. [&#xA0;Default:&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.initial.load.delete.first</command>
                </term>
                <listitem>
                    <para>
                        Set this if tables should be purged prior to an initial load.
                        [&#xA0;Default:&#xA0;false&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.trigger.prefix</command>
                </term>
                <listitem>
                    <para>
                        Set this if the trigger names need to be prefixed. This is useful when running two
                        symmetric instances against the same database. [&#xA0;Default:&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.http.timeout.ms</command>
                </term>
                <listitem>
                    <para>
                        Sets both the connection and read timeout on the internal HttpUrlConnection.
                        [&#xA0;Default:&#xA0;600000s&#xA0;]
                    </para>
                </listitem>
            </varlistentry>            
            <varlistentry>
                <term>
                    <command>symmetric.runtime.job.random.max.start.time.ms</command>
                </term>
                <listitem>
                    <para>
                        When starting jobs, symmetric attempts to randomize the start time to spread out load.
                        This is the maximum wait period before starting a job.
                        [&#xA0;Default:&#xA0;10000&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.purge.retention.minutes</command>
                </term>
                <listitem>
                    <para>
                        This is the retention for how long synchronization data will be kept in the
                        SymmetricDS synchronization tables. Note that data will be purged only if the purge
                        job is enabled. [&#xA0;Default:&#xA0;7200&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.start.push.job</command>
                </term>
                <listitem>
                    <para>Whether the push job is enabled for this node. [&#xA0;Default:&#xA0;true]</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.job.push.period.time.ms</command>
                </term>
                <listitem>
                    <para>This is how often the push job will be run. [&#xA0;Default:&#xA0;60000&#xA0;]</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.start.pull.job</command>
                </term>
                <listitem>
                    <para>
                        Whether the pull job is enabled for this node. [&#xA0;Default:&#xA0;true&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.job.pull.period.time.ms</command>
                </term>
                <listitem>
                    <para>This is how often the pull job will be run. [&#xA0;Default:&#xA0;60000&#xA0;]</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.start.purge.job</command>
                </term>
                <listitem>
                    <para>
                        Whether the purge job is enabled for this node. [&#xA0;Default:&#xA0;true&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.job.purge.period.time.ms</command>
                </term>
                <listitem>
                    <para>
                        This is how often the purge job will be run. [&#xA0;Default:&#xA0;600000&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.start.synctriggers.job</command>
                </term>
                <listitem>
                    <para>
                        Whether the sync triggers job is enabled for this node.
                        [&#xA0;Default:&#xA0;true&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.job.synctriggers.aftermidnight.minutes</command>
                </term>
                <listitem>
                    <para>
                        If scheduled, the sync triggers job will run nightly. This is how long after midnight
                        that job will run. [&#xA0;Default:&#xA0;15&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.start.heartbeat.job</command>
                </term>
                <listitem>
                    <para>
                        Whether the heartbeat job is enabled for this node. The heartbeat job simply inserts
                        an event to update the heartbeat_time column on the node table for the current node.
                        [&#xA0;Default:&#xA0;true&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.schema.version</command>
                </term>
                <listitem>
                    <para>
                        This is hook to give the user a mechanism to indicate the schema version that is being
                        synchronized. This property is only valid if you use the default IRuntimeConfiguration
                        implementation. [&#xA0;Default:&#xA0;?&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.registration.url</command>
                </term>
                <listitem>
                    <para>
                        The URL where this Node can connect for registration to receive its configuration.
                        This property is only valid if you use the default IRuntimeConfiguration
                        implementation. [&#xA0;Default:&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.my.url</command>
                </term>
                <listitem>
                    <para>
                        The URL where this Node can be contacting for synchronization. This property is only
                        valid if you use the default IRuntimeConfiguration implementation.
                        [&#xA0;Default:&#xA0;http://localhost:8080/sync&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.group.id</command>
                </term>
                <listitem>
                    <para>
                        The Node Group ID for this Node. This property is only valid if you use the default
                        IRuntimeConfiguration implementation. [&#xA0;Default:&#xA0;default&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.external.id</command>
                </term>
                <listitem>
                    <para>
                        The secondary identifier for this Node that has meaning to the system where it is
                        deployed. While the Node ID is a generated sequence number, the external ID could have
                        meaning in the user's domain, such as a retail store number. This property is only
                        valid if you use the default IRuntimeConfiguration implementation.
                        [&#xA0;Default:&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.runtime.configuration.class</command>
                </term>
                <listitem>
                    <para>
                        Provides a way to override the default IRuntimeConfiguration. If you specify a class
                        that implements the interface, it will be used instead of the default, property-based,
                        version. [&#xA0;Default:&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>
                    <command>symmetric.transport.type</command>
                </term>
                <listitem>
                    <para>
                        Specify the transport type. Supported values currently include: http, internal.
                        [&#xA0;Default:&#xA0;http&#xA0;]
                    </para>
                </listitem>
            </varlistentry>
        </variablelist>
    </para>
</appendix>
