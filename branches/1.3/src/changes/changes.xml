<document>
  <properties>
    <title>SymmetricDS</title>
    <author email="erilong@users.sourceforge.net">Eric Long</author>
    <author email="chenson42@users.sourceforge.net">Chris Henson</author>
  </properties>
  <body>  
    <release version="1.3.4" date="2008-04-??" description="Patch release">
      <action dev="chenson42" type="fix" issue="aid=1950045&amp;atid=997724">
        Fix peek ahead logic so that the max batch size limit is respected.
      </action>
      <action dev="chenson42" type="fix" issue="aid=1950045&amp;atid=997724">
        Qualified data_id in order by SQL in selectDataIdSql.
      </action>      
    </release>
    <release version="1.3.3" date="2008-04-22" description="Patch release">
      <action dev="chenson42" type="fix" issue="aid=1945207&amp;atid=997724">
        Remove extra comma in mssql.xml trigger text.
      </action>
      <action dev="chenson42" type="fix" issue="aid=1948790&amp;atid=997724">
        Multi-row updates don't work for the Sql Server Dialect.
      </action>    
      <action dev="erilong" type="fix" issue="aid=1948109&amp;atid=997724">
        Time portion of DATE column not syncing.
      </action>       
    </release>  
    <release version="1.3.2" date="2008-04-01" description="Patch release">
      <action dev="chenson42" type="fix" issue="aid=1930496&amp;atid=997724">
        Make buildOutgoingBatches use only one connection from the connection pool vs the previous 
        two it used.
      </action>
      <action dev="chenson42" type="fix" issue="aid=1929400&amp;atid=997724">
        Don't put all ACKs in the same transaction.
      </action>
      <action dev="chenson42" type="fix" issue="aid= 1929395&amp;atid=997724">
        Introduce a compression filter that does not read an entire stream into memory before compressing.
      </action>
      <action dev="chenson42" type="fix" issue="aid=1918310&amp;atid=997724">
        Fixed the isInitialLoadComplete JMX method so it works with the new asynchronous reload.
      </action>    
    </release>  
    <release version="1.3.1" date="2008-03-29" description="Patch release">
      <action dev="erilong" type="fix" issue="aid=1924351&amp;atid=997724">
        Queries need to alias columns on PostgreSQL in case reserved words like "limit"
        are used as a column name.  Fixes synchronization for Adempiere.
      </action>
      <action dev="erilong" type="fix" issue="aid=1922524&amp;atid=997724">
        Fixed the PostgreSQL dialect to query for existence of triggers correctly, which
        was causing it to try creating them on every startup.
      </action>
      <action dev="erilong" type="fix" issue="aid=1913260&amp;atid=997724">
        Fixed the population of the failed_data_id on sym_outgoing_batch_hist, which was always
        zero. It should link to the sym_data.
      </action>
      <action dev="chenson42" type="fix" issue="aid=1914242&amp;atid=997724">
        The oracle dialect should select from user_objects vs. all_objects to determine if the
        package variable has been installed.
      </action>
    </release>
    <release version="1.3.0" date="2008-03-12" description="A brave new frontier">
      <action dev="chenson42" type="add">
        Changed Version.java to reference the pom.properties version that is packaged in the jar
        during a Maven build.
      </action>
      <action dev="chenson42" type="add">
        Only log node concurrency rejects every 10 minutes.
      </action>
      <action dev="chenson42" type="add">
        Log fallback update/deletes at debug level instead of at the warn level.
      </action>
      <action dev="chenson42" type="add">
        Don't log socket exceptions and HTTP 503 errors as stack traces, instead log as warnings.
      </action>
      <action dev="chenson42" type="add">
        Make DataService.reloadNode(node_id) transactional. If it isn't we run the risk of inserting
        only half of an initial load.
      </action>
      <action dev="chenson42" type="add">
        Added an additional optional properties file that can put in the classpath to override
        properties values called symmetric-override.properties.
      </action>
      <action dev="chenson42" type="add">
        Moved channel_id and transaction_id from the data table to the data_event table. It makes it
        much more efficient to create batches when data is backed up because you don't need to join
        between data and data_event.
      </action>
      <action dev="chenson42" type="add">
        Added the configurable number of times to attempt a 'resend' of the 'status' on a pull.
      </action>
      <action dev="chenson42" type="add">
        Added the removal of all incoming batch rows when reloading a node. This is to prevent the
        loss of data should the symmetric.runtime.incoming.batches.skip.duplicates property be set
        to true.
      </action>
      <action dev="chenson42" type="add">
        Made the purge of incoming and outgoing batches exclusive. Also made sure if one fails, the
        other will still be able to run.
      </action>
      <action dev="kbajaj01" type="add">
        Make the AbstractJob configurable so that it can reschedule itself. If we do this, then we
        get natural randomness in the push, pull cycles.
      </action>
      <action dev="chenson42" type="fix">
        Transaction ids can be interleaved by different processes. The batching algorithm needs to
        take this into account. Also, cap the max number of batches that can be sent per channel in
        one sweep.
      </action>
      <action dev="chenson42" type="fix">
        We had a few places where we were not closing Statements and ResultSets.
      </action>
      <action dev="erilong" type="fix" issue="aid=1891508&amp;atid=997724">
        Fixed integrity violation when updating a primary key with an empty value between database
        systems that handle char padding differently
      </action>
      <action dev="erilong" type="fix" issue="aid=1903641&amp;atid=997724">
        Fixed SafetySwitch error when parsing large columns
      </action>
      <action dev="erilong" type="fix" issue="aid=1903635&amp;atid=997724">
        Fixed cross schema trigger creation for PostgreSQL
      </action>
      <action dev="erilong" type="add" issue="aid=1903649&amp;atid=997727">
        reloadTable() JMX function to delete and reload a table for a node
      </action>
      <action dev="erilong" type="add" issue="aid=190874&amp;atid=997727">
        Timings for network, filter, and database on incoming batches.
      </action>
      <action dev="erilong" type="add" issue="aid=1861766&amp;atid=997727">
        Addition of optional compression on push.
      </action>
      <action dev="erilong" type="fix" issue="aid=1907627&amp;atid=997724">
        Case sensitive schema and table names on MySQL for Unix
      </action>
      <action dev="erilong" type="fix" issue="aid=1907658&amp;atid=997724">
        Extract can send batches out of order when channel is in error
      </action>
    </release>
    <release version="1.2.0" date="2008-01-23" description="New dialects and bug fix release">
      <action dev="erilong" type="add" issue="atid=997727&amp;aid=1825801">
        Add support to auto create the tables that are being synced
      </action>
      <action dev="chenson42" type="add" issue="atid=997727&amp;aid=1861088">
        Implement the HSQLDB Dialect
      </action>
      <action dev="erilong" type="add" issue=" atid=997727&amp;aid=1825799">
        Implement the Apache Derby Dialect
      </action>
      <action dev="chenson42" type="add" issue="atid=997727&amp;aid=1877262">
        Make the concurrent worker count by servlet instead of across all servlets
      </action>
      <action dev="chenson42" type="add" issue="atid=997727&amp;aid=1861764">
        Support the automatic detection of http compression
      </action>
      <action dev="erilong" type="add" issue="atid=997727&amp;aid=1852586">
        Add support for automatically sending initial load
      </action>
      <action dev="chenson42" type="add" issue="atid=997727&amp;aid=1851161">
        Add cluster support by providing a ClusterService
      </action>
      <action dev="erilong" type="add" issue="atid=997727&amp;aid=1851159">
        Add promiscuous registration mode
      </action>
      <action dev="chenson42" type="add" issue="atid=997727&amp;aid=1849379">
        Add curTriggerValue variable for use in sym_trigger definitions
      </action>
      <action dev="chenson42" type="fix" issue="atid=997724&amp;aid=1861090">
        To many data events can be purged in the same transaction
      </action>
      <action dev="chenson42" type="fix" issue="atid=997724&amp;aid=1858083">
        SQL Server Initial Load broke when 'text' fields are used
      </action>
      <action dev="erilong" type="fix" issue="atid=997724&amp;aid=1854418">
        The JMX showBatch and writeBatchRangeToFile broken in 1.1
      </action>
      <action dev="chenson42" type="fix" issue="atid=997724&amp;aid=1851065">
        Trigger name is too long ...
      </action>
      <action dev="chenson42" type="fix" issue="atid=997724&amp;aid=1861090">
        To many data events can be purged in the same transaction
      </action>
      <action dev="chenson42" type="fix" issue="atid=997724&amp;aid=1849767">
        Don't output a WARN if the sync_url is null
      </action>
      <action dev="chenson42" type="fix" issue="atid=997724&amp;aid=1849763">
        Bug introduced in refactoring of SqlScript
      </action>
    </release>

  </body>
</document>