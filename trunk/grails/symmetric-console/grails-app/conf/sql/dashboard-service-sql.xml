<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:util="http://www.springframework.org/schema/util"
    xsi:schemaLocation="    
    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
    http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd"
    default-lazy-init="true">

    <util:map id="dashboardServiceSql">
        <entry key="selectThroughputSql">
            <value><![CDATA[  
                select  
		          sum(data_event_count) as "totalDataEventCount",
		          round(avg(case when extract_millis = 0 then 0 else data_event_count / extract_millis end), 2) as "extractMs", 
                  round(avg(case when filter_millis = 0 then 0 else data_event_count / filter_millis end), 2) as "filterMs", 
                  round(avg(case when load_millis = 0 then 0 else data_event_count / load_millis end), 2) as "loadMs", 
                  round(avg(case when network_millis = 0 then 0 else data_event_count / network_millis end), 2) as "networkMs", 
                  round(avg(case when router_millis = 0 then 0 else data_event_count / router_millis end), 2) as "routerMs"
                from sym_outgoing_batch
                where last_update_time between ? and ?
                
            ]]></value>
        </entry>        
    </util:map>
</beans>