<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:util="http://www.springframework.org/schema/util"
	xsi:schemaLocation="    
    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
    http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd"
	default-lazy-init="true">

	<util:map id="routers">
		<entry key="default">
			<bean class="org.jumpmind.symmetric.route.DefaultDataRouter">
			</bean>
		</entry>	
		<entry key="column">
			<bean class="org.jumpmind.symmetric.route.ColumnMatchDataRouter">
                <property name="registrationService" ref="registrationService" />
            </bean>
		</entry>
		<entry key="lookuptable">
			<bean class="org.jumpmind.symmetric.route.LookupTableDataRouter">
                <property name="jdbcTemplate" ref="jdbcTemplate" />
            </bean>
		</entry>  				  		
		<entry key="subselect">
			<bean class="org.jumpmind.symmetric.route.SubSelectDataRouter">
				<property name="sql"
					value="select c.node_id from $[sym.sync.table.prefix]_node c where c.node_group_id=:NODE_GROUP_ID and c.sync_enabled=1 and " />
				<property name="jdbcTemplate" ref="jdbcTemplate" />
				<property name="symmetricDialect" ref="symmetricDialect" />
			</bean>
		</entry>
        <entry key="bsh">
            <bean class="org.jumpmind.symmetric.route.BshDataRouter">
                <property name="symmetricDialect" ref="symmetricDialect" />
            </bean>
        </entry>
        <entry key="trigger">
            <bean class="org.jumpmind.symmetric.route.TriggerDataRouter">
                <property name="nodeService" ref="nodeService"/>
                <property name="configurationService" ref="configurationService"/>
                <property name="triggerRouterService" ref="triggerRouterService"/>
                <property name="parameterService" ref="parameterService"/>
                <property name="transformService" ref="transformService"/>
            	<property name="tablePrefix" value="$[sym.sync.table.prefix]" />
            </bean>
        </entry> 
        <entry key="configurationChanged">
            <bean class="org.jumpmind.symmetric.route.ConfigurationChangedDataRouter">
                <property name="nodeService" ref="nodeService"/>
                <property name="configurationService" ref="configurationService"/>
                <property name="triggerRouterService" ref="triggerRouterService"/>
                <property name="parameterService" ref="parameterService"/>
                <property name="transformService" ref="transformService"/>
            	<property name="tablePrefix" value="$[sym.sync.table.prefix]" />
           	</bean>
        </entry>                   
	</util:map>

	<util:map id="batchAlgorithms">
		<entry key="default">
			<bean class="org.jumpmind.symmetric.route.DefaultBatchAlgorithm" />
		</entry>
		<entry key="transactional">
			<bean class="org.jumpmind.symmetric.route.TransactionalBatchAlgorithm" />
		</entry>
		<entry key="nontransactional">
			<bean class="org.jumpmind.symmetric.route.NonTransactionalBatchAlgorithm" />
		</entry>		
	</util:map>

</beans>