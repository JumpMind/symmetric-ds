#!/bin/sh
#
# Run commandline support through SymmetricLauncher
#

PRGDIR=`dirname "$0"`
if [ "$PRGDIR" = "" ]
then
   PRGDIR=`echo $0 | sed 's/\/sym//g'`
fi
if [ "$PRGDIR" = "" ]
then
   PRGDIR="."
fi
LIBDIR=$PRGDIR/../lib
CONFDIR=$PRGDIR/../conf
RUNJAVA=java

if [ -x "$JAVA_HOME/bin/java" ]
then
   RUNJAVA="$JAVA_HOME/bin/java"
fi

CLASSPATH=.
SEP=:

if uname | grep -i cygwin > /dev/null
then
   SEP=";"
fi

for jar in $LIBDIR/*
do
   CLASSPATH=${CLASSPATH}${SEP}${jar}
done

#echo $CLASSPATH

exec "$RUNJAVA" -Dsym.keystore.file="$PRGDIR/../security/keystore" -Djavax.net.ssl.trustStore="$PRGDIR/../security/cacerts" -Dsun.net.client.defaultReadTimeout=1800000 -Dsun.net.client.defaultConnectTimeout=1800000 -Dlog4j.configuration=file:$CONFDIR/log4j.xml -cp $CLASSPATH org.jumpmind.symmetric.SymmetricLauncher "$@"
