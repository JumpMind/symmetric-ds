<?xml version="1.0"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
"http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">
<book>
    <bookinfo>
        <title>SymmetricDS User Guide</title>
        <authorgroup>
            <author>
                <firstname>Eric</firstname>
                <surname>Long</surname>
            </author>
            <author>
                <firstname>Chris</firstname>
                <surname>Henson</surname>
            </author>
        </authorgroup>
        <edition>Version 1.0 for SymmetricDS v1.0.0</edition>
        <copyright>
            <year>2007</year>
            <holder>Eric Long</holder>
            <holder>Chris Henson</holder>
        </copyright>
        <legalnotice>
            <para>
                Permission to use, copy, modify, and distribute the SymmetricDS User Guide Version
                1.0 for any purpose and without fee is hereby granted in perpetuity, provided that
                the above copyright notice and this paragraph appear in all copies.
            </para>
        </legalnotice>
    </bookinfo>
    <preface>
        <title>Preface</title>
        <para>
            SymmetricDS is web-enabled, database independent, data synchronization software. It uses
            web and database technologies to replicate tables between relational databases in near
            real time. The software was designed to scale for a large number of databases, work
            across low-bandwidth connections, and withstand periods of network outage.
        </para>
        <para>
            This User Guide describes the SymmetricDS library for data synchronization. It is
            intended for users who want to be quickly familiarized with the software, configure it,
            and use its features.
        </para>
    </preface>
    <chapter>
        <title>Introduction</title>
        <section>
            <title>The Problem of Synchronization</title>
        </section>
        <section>
            <title>SymmetricDS Feature Overview</title>
            <section>
                <title>Notification Schemes</title>
            </section>
            <section>
                <title>Two-Way Table Synchronization</title>
            </section>
            <section>
                <title>Data Channels</title>
            </section>
            <section>
                <title>Transaction Awareness</title>
            </section>
            <section>
                <title>Data Filtering and Rerouting</title>
            </section>
            <section>
                <title>HTTP Transport</title>
            </section>
            <section>
                <title>Remote Management</title>
            </section>
        </section>
        <section>
            <title>Requirements</title>
            <para>
                SymmetricDS is written in Java 5 and requires a Java SE Runtime Environment (JRE) or
                Java SE Development Kit (JDK) version 5.0 or above.
            </para>
            <para>
                Any database with trigger technology and a JDBC driver has the potential to run
                SymmetricDS. The database is abstracted through a Database Dialect in order to
                support specific features of each database. The following Database Dialects have
                been included with release 1.0:
            </para>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>MySQL version 5.0.2 and above</para>
                </listitem>
                <listitem>
                    <para>Oracle version 8.1.7 and above</para>
                </listitem>
            </itemizedlist>
        </section>
        <section>
            <title>Background</title>
        </section>
        <section>
            <title>Version Numbering</title>
            <para>
                The software is released with a version number based on the
                <ulink url="http://apr.apache.org/versioning.html">
                    Apache Portable Runtime Project
                </ulink>
                version guidelines. In summary, the version is denoted as three integers in the
                format of MAJOR.MINOR.PATCH. Major versions are incompatible at the API level, and
                they can include any kind of change. Minor versions are compatible with older
                versions at the API and binary level, and they can intoduce new functions or remove
                old ones. Patch versions are perfectly compatible, and they are released to fix
                defects.
            </para>
        </section>
    </chapter>
    <chapter>
        <title>Getting Started</title>
        <para>
            To get started, you create a root database and a client database that each run the
            SymmetricDS software to synchronize changes. You open registration for the client, which
            registers with the root to receive the synchronization configuration. You ask the root
            to reload the client in order to perform an initial synchronization. Then you make
            changes to each database and observe the changes propagating.
        </para>
        <section>
            <title>Installing SymmetricDS</title>
            <procedure>
                <step>
                    <para>
                        Download the
                        <ulink url="http://sourceforge.net/project/showfiles.php?group_id=206470">
                            symmetric-ds.zip
                        </ulink>
                        file from
                        <ulink url="http://www.symmetricds.org/">http://www.symmetricds.org/</ulink>
                    </para>
                </step>
                <step>
                    <para>
                        Unzip the file to create its own
                        <filename class="directory">symmetric-ds-1.0.0</filename>
                        directory.
                    </para>
                </step>
                <step>
                    <para>Edit the database properties for the root and client nodes.</para>
                    <substeps>
                        <step>
                            <para>
                                Edit the
                                <filename>samples/root.properties</filename>
                                for the root node.
                            </para>
                        </step>
                        <step>
                            <para>
                                Edit the
                                <filename>samples/client.properties</filename>
                                for the client node.
                            </para>
                        </step>
                    </substeps>
                </step>
                <step>
                    <para>Set the following properties to correspond to your databases:</para>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>db.driver The class name for the JDBC Driver</para>
                        </listitem>
                        <listitem>
                            <para>db.url The JDBC URL used to connect to the database</para>
                        </listitem>
                        <listitem>
                            <para>
                                db.user The user to login as who can create and update tables
                            </para>
                        </listitem>
                        <listitem>
                            <para>db.password The password for the user to login as</para>
                        </listitem>
                    </itemizedlist>
                </step>
            </procedure>
        </section>
        <section>
            <title>Creating and Populating Your Databases</title>
            <important>
                <para>
                    You must first create the databases for your root and client nodes using the
                    administration tools provided by your database vendor.
                </para>
            </important>
            <para>
                Create and load the root node tables with sample data and the synchronization
                configuration. Create the tables in the client node database to prepare it.
            </para>
            <procedure>
                <step>
                    <para>
                        Open a command prompt and navigate to the
                        <filename class="directory">samples</filename>
                        subdirectory of your SymmetricDS installation.
                    </para>
                </step>
                <step>
                    <para>Create the sample tables in both the root and client databases.</para>
                    <para>
                        <command>symmetric -p root.properties --run-ddl create_sample.xml</command>
                    </para>
                    <para>
                        <command>
                            symmetric -p client.properties --run-ddl create_sample.xml
                        </command>
                    </para>
                </step>
                <step>
                    <para>
                        Create the symmetric tables in the root node database. These tables contain
                        the configuration for synchronization. The following command uses the
                        auto-creation feature to create all the necessary symmetric system tables.
                    </para>
                    <para>
                        <command>symmetric -p root.properties --auto-create</command>
                    </para>
                </step>
                <step>
                    <para>Load sample data and configuration into the root node database.</para>
                    <para>
                        <command>symmetric -p root.properties --run-sql insert_sample.sql</command>
                    </para>
                </step>
                <step>
                    <para>Verify the databases by logging in and listing the tables.</para>
                </step>
            </procedure>
        </section>
        <section>
            <title>Configuring and Starting SymmetricDS</title>
            <procedure>
                <step>
                    <para>
                        Open a command prompt and navigate to the
                        <filename class="directory">samples</filename>
                        subdirectory of your SymmetricDS installation.
                    </para>
                </step>
                <step>
                    <para>Start the root node server.</para>
                    <para>
                        <command>symmetric -p root.properties --start</command>
                    </para>
                    <para>
                        The root node server starts up and creates all the triggers that were
                        configured by the sample configuration.
                    </para>
                </step>
                <step>
                    <para>Start the client node server.</para>
                    <para>
                        <command>symmetric -p root.properties --start</command>
                    </para>
                    <para>
                        The client node server starts up and uses the auto-creation feature to
                        create the symmetric system tables. It begins polling the root node in order
                        to register. Since registration is not yet open, the client node receives an
                        authorization failure.
                    </para>
                </step>
            </procedure>
        </section>
        <section>
            <title>Registration</title>
            <para>This is a paragraph.</para>
        </section>
        <section>
            <title>Initial Load</title>
            <para>This is a paragraph.</para>
        </section>
        <section>
            <title>Pulling and Pushing Data</title>
            <para>This is a paragraph.</para>
        </section>
    </chapter>
    <chapter>
        <title>Concepts</title>
        <section>
            <title>Data Model</title>
        </section>
        <section>
            <title>Node</title>
        </section>
        <section>
            <title>Node Security</title>
        </section>
        <section>
            <title>Node Group</title>
        </section>
        <section>
            <title>Node Group Link</title>
        </section>
        <section>
            <title>Channel</title>
        </section>
        <section>
            <title>Trigger</title>
        </section>
    </chapter>
    <chapter>
        <title>Architecture</title>
        <section>
            <title>Software Components</title>
        </section>
        <section>
            <title>Deployment Options</title>
        </section>
    </chapter>
    <chapter>
        <title>Basic Configuration</title>
        <section>
            <title>Nodes</title>
        </section>
    </chapter>
    <chapter>
        <title>Advanced Configuration</title>
        <section>
            <title>Dead Triggers</title>
        </section>
        <section>
            <title>Auto Creation</title>
        </section>
        <section>
            <title>Secure Transport</title>
        </section>
    </chapter>
    <chapter>
        <title>Administration</title>
        <section>
            <title>Rebuilding Triggers</title>
        </section>
        <section>
            <title>Opening Registration</title>
        </section>
        <section>
            <title>Enabling and Disabling Synchronization</title>
        </section>
        <section>
            <title>Viewing Batches</title>
        </section>
    </chapter>
</book>
